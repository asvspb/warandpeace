## План: Zettelkasten и связи между статьями

Цель: превратить базу статей в граф знаний с заметками (zettels), ссылками и рекомендациями похожих материалов.

### 1) Модель данных
- `notes(id, article_id NULL, title, body, created_at, updated_at)` — заметка может ссылаться на статью.
- `links(id, from_note_id, to_note_id, relation)` — произвольные связи ("связано", "причина-следствие", и т.п.).
- `similarities(article_id_a, article_id_b, score)` — близость по содержанию (косинус/Jaccard), симметрично.

### 2) Алгоритмы
- Похожие статьи: TF‑IDF/шинглы сейчас; позже — векторизация (sentence-transformers) и ANN.
- Построение графа: связи по тегам, хэштегам, ручным заметкам.

### 3) Интерфейс
- Веб: вкладка "Связи" на карточке статьи — похожие материалы, теги, связанные заметки.
- CRUD заметок/связей (минимальный).

### 4) Реализация
- [ ] Скрипт оффлайн‑расчёта похожести, запись в `similarities`.
- [ ] UI для просмотра/редактирования связей.
- [ ] Экспорт/импорт заметок (JSON/YAML).

### 5) Тест‑план
- Юнит: корректность вычисления шинглов/TF‑IDF для коротких текстов.
- Интеграция: отображение похожих статей в UI.

### 6) Риски
- Качество похожести — валидация пользователями, белые списки/исключения.