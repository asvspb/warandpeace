# PLANNING — агрегатор планов и статусов

Цель: единое место, где собираются ссылки на активные планы, ближайшие инициативы и статусы выполнения. Обновляется при каждом начале/завершении плановой задачи.

Обновление (процесс):
- Перед началом работы: добавить ссылку на план в разделе «Активные» (или создать план из шаблона doc/PLAN_TEMPLATE.md).
- По завершении: перенести ссылку в «Завершено недавно», добавить краткое резюме и ссылку на PR/релиз.
- Раз в неделю: синхронизировать с ROADMAP.md и STATUS.md.

## Активные планы
- Персистентная статистика API (остаток): doc/API_USAGE_PERSISTENCE_PLAN_RU.md — этапы: интеграция в summarizer, метрики session_*/daily_*, CLI/UI, тесты.
- Поиск и анти-дубли на стороне БД: FTS + pg_trgm (создать план: doc/FTS_TRGM_PLAN_RU.md).
- JSONB для extra_json в api_usage_events (создать план: doc/API_USAGE_JSONB_PLAN_RU.md).

## Запланировано (ближайшие 4–6 недель)
- Бэкапы PostgreSQL (pg_dump/pg_restore, PITR) — обновление tools/backup.py (создать план: doc/PG_BACKUP_PLAN_RU.md).
- Материализованные представления для отчётов (mv_api_usage_daily) — manage-команда REFRESH (создать план: doc/MV_REPORTS_PLAN_RU.md).

## Завершено недавно
- v2.0 — Python 3.12 + PostgreSQL (dual-backend), схема через SQLAlchemy, миграция данных — см. doc/RELEASELOG.md#v20.

## Регулярные действия
- Еженедельно: апдейт ROADMAP.md и раздела «Активные планы».
- Перед релизом: обновить RELEASELOG.md, сгенерировать STATUS.md.
- После релиза: закрыть завершённые планы, открыть новые.
