# Руководство по документации (Docs Guide)

Цель: держать документацию точной и актуальной, а планирование — регулярным и прозрачным.

## Структура
- doc/STATUS.md — автогенерация (скрипт: scripts/docs/generate_status.py)
- doc/PLANNING.md — агрегатор активных планов и статусов
- doc/ROADMAP.md — направления на 1–2 квартала
- doc/RELEASELOG.md — заметки о релизах
- doc/*_PLAN_RU.md — планы реализаций (по одной теме на документ)
- doc/ADR/* — архитектурные решения (шаблон можно добавить при необходимости)

## Ритм обновлений
- Еженедельно: PLANNING.md (активные/запланированные), синк с ROADMAP.md
- Перед релизом: обновить RELEASELOG.md, запустить генерацию STATUS.md
- После релиза: закрыть завершённые планы, создать новые при необходимости

## Процесс в PR (см. шаблон PR)
- Если менялись ключевые компоненты/интерфейсы/зависимости — обновить DEPLOYMENT.md/WARP.md.
- Добавить/обновить соответствующие планы в doc/*_PLAN_RU.md и ссылки в PLANNING.md.
- Сгенерировать doc/STATUS.md перед слиянием (чтобы «снимок» соответствовал HEAD).

## Автоматизация
- Скрипт генерации статуса: `python3 scripts/docs/generate_status.py`
- Pre-commit hook (блокирующий по умолчанию):
  - Включить версионируемые хуки один раз: `git config core.hooksPath .githooks`
  - Хук `.githooks/pre-commit` при изменениях в ключевых файлах:
    - Автоматически генерирует `doc/STATUS.md` и добавляет его в коммит.
    - Если ни один документ не был обновлён — БЛОКИРУЕТ коммит с подсказками.
  - Временное отключение (на свой риск): `export WARP_DOCS_HOOK_DISABLE=1` или `git commit --no-verify`

## Правила
- Документы пишутся на русском.
- В документах ссылаться на файлы/пути через Markdown и обратные кавычки.
- Исторические планы переводить в «архивные» документы, а не удалять — краткие анкоры оставлять в актуальных файлах.
