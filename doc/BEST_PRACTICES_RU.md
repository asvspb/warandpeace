### üìò –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

#### 1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–Ω–æ–π —Å–∞–π—Ç –æ —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –≥–µ–æ–ø–æ–ª–∏—Ç–∏–∫–µ "warandpeace.ru", –ø–∞—Ä—Å–∏—Ç –Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—å–∏, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–∏–µ —Ä–µ–∑—é–º–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ò (–∏—Å–ø–æ–ª—å–∑—É—è Google Gemini & OpenRouter LLM) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—É–±–ª–∏–∫—É–µ—Ç –∏—Ö –≤ Telegram-–∫–∞–Ω–∞–ª.
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∫–ª—é—á–∞—é—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã, –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Å–µ—Ä–∞ –∏ –∫–ª—é—á–µ–π API, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é Docker.

#### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `src/` ‚Äì –∫–æ–¥ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - `bot.py` ‚Äì –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞; –∑–∞–ø—É—Å–∫–∞–µ—Ç Telegram-–±–æ—Ç–∞, –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á–∏ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥.
  - `parser.py` / `async_parser.py` ‚Äì —Å–∫—Ä–µ–π–ø–∏–Ω–≥ –≤–µ–±-—Å–∞–π—Ç–∞, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞—Ç, –≤–æ–∑–≤—Ä–∞—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç–µ–π.
  - `summarizer.py` ‚Äì —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é LLM.
  - `database.py` ‚Äì –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è SQLite (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, CRUD, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞), –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–æ—Ç–æ–º.
  - `config.py` ‚Äì –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∫–ª—é—á–∏ API –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
  - `healthcheck.py` ‚Äì –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ CSS-—Å–µ–ª–µ–∫—Ç–æ—Ä—ã –ø–∞—Ä—Å–µ—Ä–∞ –≤—Å–µ –µ—â–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ü–µ–ª–µ–≤–æ–º—É —Å–∞–π—Ç—É.
  - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (`get_todays_articles.py` –∏ —Ç.–¥.) ‚Äì –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –ø–æ–º–æ—â–Ω–∏–∫–∏.
- `tests/` ‚Äì –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ pytest –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞, —Å—É–º–º–∞—Ä–∏–∑–∞—Ç–æ—Ä–∞ –∏ –ø–æ–º–æ—â–Ω–∏–∫–æ–≤ –ë–î.
- `scripts/` ‚Äì –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î, —Ä—É—á–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏).
- `database/` ‚Äì –∑–¥–µ—Å—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite (–º–æ–Ω—Ç–∏—Ä—É–µ–º—ã–π —Ç–æ–º –≤ Docker).
- `logs/` ‚Äì –ª–æ–≥–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Ç–æ–º Docker).
- `Dockerfile`, `docker-compose.yml` ‚Äì –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è.
- `.env` ‚Äì —Å–µ–∫—Ä–µ—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è).

–ö–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
- **–î–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞—Ç–µ–π, —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤.
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞/–í–≤–æ–¥-–≤—ã–≤–æ–¥**: Telegram API, HTTP-–∑–∞–ø—Ä–æ—Å—ã, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, Docker.
- **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è**: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á –≤ `bot.py`.

#### 3. –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: pytest (+ unittest.mock).
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ**: —Ç–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `tests/`, –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `test_`.
- **–§–∏–ª–æ—Å–æ—Ñ–∏—è**:
  - –ú–æ–¥—É–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (`_parse_custom_date`, –ø–æ–º–æ—â–Ω–∏–∫–∏ —Å—É–º–º–∞—Ä–∏–∑–∞—Ç–æ—Ä–∞, –ø–æ–º–æ—â–Ω–∏–∫–∏ –ë–î).
  - –ò–º–∏—Ç–∞—Ü–∏—è (mock) –≤–Ω–µ—à–Ω–∏—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ Telegram API –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤.
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –ë–î SQLite –∏–ª–∏ —Å–µ—Ä–≤–∏—Å Docker.
- **–¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: ‚â•80 % —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (`parser`, `summarizer`, `database`).
- **–§–∏–∫—Å—Ç—É—Ä—ã**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä pytest –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ HTML –∏ monkey-patching –∑–∞–ø—Ä–æ—Å–æ–≤.
- **CI**: –∑–∞–ø—É—Å–∫ `pytest -q` –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Docker –∏–ª–∏ –≤ GitHub Actions.

#### 4. –°—Ç–∏–ª—å –∫–æ–¥–∞
- **–Ø–∑—ã–∫**: Python 3.11+, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –æ—Ç–¥–∞–µ—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∞–º —Ç–∏–ø–æ–≤ (`typing`) –¥–ª—è –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `asyncio` –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö –±–æ—Ç–∞ –∏ –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–º –≤–≤–æ–¥–µ-–≤—ã–≤–æ–¥–µ (HTTP-–≤—ã–∑–æ–≤—ã, –ë–î) ‚Äì –∏–∑–±–µ–≥–∞–π—Ç–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Ü–∏–∫–ª–µ —Å–æ–±—ã—Ç–∏–π.
- **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ**: snake_case –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π, PascalCase –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, UPPER_SNAKE –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç.
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è `logging`; –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `print` –≤ —Ä–∞–±–æ—á–µ–º –∫–æ–¥–µ.
- **–î–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏**: –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏ –≤ —Å—Ç–∏–ª–µ Google –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –∏ —Ñ—É–Ω–∫—Ü–∏–π; –æ–ø–∏—Å—ã–≤–∞–π—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–π—Ç–µ **–æ–∂–∏–¥–∞–µ–º—ã–µ** –æ—à–∏–±–∫–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –±–ª–∏–∂–µ –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É; –ª–æ–≥–∏—Ä—É–π—Ç–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –∏–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –≤ –æ—à–∏–±–∫–∏ –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `tenacity` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º –≤–≤–æ–¥–µ-–≤—ã–≤–æ–¥–µ.

#### 5. –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **–§–∞–±—Ä–∏–∫–∞ / –ê–¥–∞–ø—Ç–µ—Ä**: –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (LLM, Telegram), —á—Ç–æ–±—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—ã–ª–∏ —Å–ª–∞–±–æ —Å–≤—è–∑–∞–Ω—ã.
- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á**: `Application.job_queue.run_repeating` ‚Äì –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–± –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–¥–∞—á.
- **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∫–ª—é—á–∏ API, URL) –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `config.py` –≤–º–µ—Å—Ç–æ –∂–µ—Å—Ç–∫–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è.
- **–õ–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫**: –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã `tenacity` –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤.
- **DTOs**: —Å–ª–æ–≤–∞—Ä–∏ —Å—Ç–∞—Ç–µ–π –∏–º–µ—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É `{title, link, published_at}` –≤–æ –≤—Å–µ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ.

#### 6. –ß—Ç–æ –¥–µ–ª–∞—Ç—å –∏ —á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å
- ‚úÖ –î–ê, —Ä–∞–∑–¥–µ–ª—è–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏ –±–ª–æ–∫–∏—Ä—É—é—â–∏–π –∫–æ–¥; –æ–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã —Å –ø–æ–º–æ—â—å—é `asyncio.to_thread`.
- ‚úÖ –î–ê, –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–µ—Å—å –≤–Ω–µ—à–Ω–∏–π HTML —Å –ø–æ–º–æ—â—å—é BeautifulSoup –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π.
- ‚úÖ –î–ê, –ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.
- ‚úÖ –î–ê, –¥–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `requirements.txt` –∏ –∑–∞–∫—Ä–µ–ø–ª—è–π—Ç–µ –∏—Ö –≤–µ—Ä—Å–∏–∏.
- ‚úÖ –î–ê, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤; –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–¥–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –∂–µ—Å—Ç–∫–æ.
- ‚ùå –ù–ï–¢, –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ñ–∞–π–ª—ã `.env` –∏–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ VCS.
- ‚ùå –ù–ï–¢, –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–π—Ç–µ –≥–æ–ª–æ–µ `Exception` –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–±—Ä–æ—Å–∞/–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
- ‚ùå –ù–ï–¢, –Ω–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–∫–ª—é—á–∏ API, –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ).
- ‚ùå –ù–ï–¢, –Ω–µ –±–ª–æ–∫–∏—Ä—É–π—Ç–µ —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π –¥–æ–ª–≥–∏–º–∏ `time.sleep`; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `asyncio.sleep`.

#### 7. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **python-telegram-bot** ‚Äì –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Telegram API –∏ –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á.
- **google-generativeai / OpenRouter** ‚Äì —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é LLM.
- **requests & BeautifulSoup4** ‚Äì HTTP-—Å–∫—Ä–µ–π–ø–∏–Ω–≥ –∏ –ø–∞—Ä—Å–∏–Ω–≥.
- **feedparser** ‚Äì RSS/Atom –ª–µ–Ω—Ç—ã (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è).
- **pytest** ‚Äì —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- **tenacity** ‚Äì –ª–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –¥–ª—è –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã—Ö —Å–µ—Ç–µ–π.

–ù–∞—Å—Ç—Ä–æ–π–∫–∞:
'''bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
python -m venv .venv && source .venv/bin/activate
pip install -r requirements.txt
export TELEGRAM_BOT_TOKEN=... # –ø–ª—é—Å –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m src.bot

# Docker
docker-compose up -d --build
'''

#### 8. –ü—Ä–æ—á–∏–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è
- –¶–µ–ª–µ–≤–æ–π —Å–∞–π—Ç (`warandpeace.ru`) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–¥–∏—Ä–æ–≤–∫—É Windows-1251; –≤—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ `response.encoding` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `.text`.
- –°–µ–ª–µ–∫—Ç–æ—Ä—ã –ø–∞—Ä—Å–µ—Ä–∞ —Ö—Ä—É–ø–∫–∏–µ; –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ `healthcheck.py` –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ—Å–ª–µ –ª—é–±–æ–≥–æ —Ä–µ–¥–∏–∑–∞–π–Ω–∞ —Å–∞–π—Ç–∞.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LLM –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤, —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã—Ö GPT-4; —Å—É–º–º–∏—Ä—É–π—Ç–µ –¥–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥ –¥–ª—è –±–æ—Ç–∞ –≥—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –∏—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ `post_init`.
- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–º–∏; –∏–∑–±–µ–≥–∞–π—Ç–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã –≤ —Ä–∞–±–æ—á–µ–π —Å—Ä–µ–¥–µ.

##### –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL
–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º SQLite –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã. –ß—Ç–æ–±—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –±—É–¥—É—â–µ–º—É —Ä–æ—Å—Ç—É —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º –ø–æ–∏—Å–∫–∞, –º—ã –ø–ª–∞–Ω–∏—Ä—É–µ–º –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–ª–æ–π –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –Ω–∞ PostgreSQL. –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞**
   - –§–∞–∑–∞ 0 (—Å–µ–π—á–∞—Å) ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—Ö–µ–º—É –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–π (ANSI SQL) –∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ë–î —á–µ—Ä–µ–∑ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
   - –§–∞–∑–∞ 1 ‚Äî –≤–Ω–µ–¥—Ä–∏—Ç—å SQLAlchemy –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ Alembic, –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞—è —Å SQLite.
   - –§–∞–∑–∞ 2 ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä Postgres (Docker), –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ –∂–µ –º–∏–≥—Ä–∞—Ü–∏–∏, –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∏ –±–æ—Ç–∞ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ (staging).
   - –§–∞–∑–∞ 3 ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—á–∏–π `.env` –Ω–∞ DSN `postgresql://` –∏ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç SQLite.

2. **–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Å—Ö–µ–º—ã v3**
   - –¢–∞–±–ª–∏—Ü—ã `sources`, `articles`, `article_texts`, `digests` (—Å–º. –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ –¥–∏–∑–∞–π–Ω—É).
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ENUM` –¥–ª—è –ø–æ–ª–µ–π —Å—Ç–∞—Ç—É—Å–∞, `BOOLEAN` –¥–ª—è —Ñ–ª–∞–≥–æ–≤ –∏ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è `(published_at)` –∏ `(status)`.
   - "–¢—è–∂–µ–ª—ã–µ" —Å—Ç–æ–ª–±—Ü—ã (`original_content`, `summary_long`) –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `article_texts`, —á—Ç–æ–±—ã —Ç–∞–±–ª–∏—Ü–∞ `articles` –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å "–≥–æ—Ä—è—á–µ–π".

3. **–û–∂–∏–¥–∞–µ–º—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**
   - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ (–∏–Ω–¥–µ–∫—Å `GIN` –¥–ª—è `article_texts.original_content`).
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (`pgvector`) –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫.
   - –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è ENUM + CHECK –¥–ª—è –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.

4. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**
   - –í—Å–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏–∏ SQLAlchemy, –ø–æ—ç—Ç–æ–º—É –¥–ª—è —Å–º–µ–Ω—ã –¥–≤–∏–∂–∫–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ DSN.
   - –ù–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∫–∞–∫ –¥–ª—è SQLite, —Ç–∞–∫ –∏ –¥–ª—è Postgres –≤ CI, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∏—Ç–µ—Ç.

5. **–¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ –º–∏–≥—Ä–∞—Ü–∏–∏**
   - >50 —Ç—ã—Å. —Å—Ç–∞—Ç–µ–π *–∏–ª–∏* —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ/—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞.
   - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ–º–∏–º–æ `warandpeace.ru`.
